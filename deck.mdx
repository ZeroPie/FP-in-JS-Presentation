import {
  CodeSurfer,
  CodeSurferColumns,
  Step,
} from "code-surfer";
import { github, vsDark } from "@code-surfer/themes";

export const theme = vsDark;

---

<CodeSurfer>

```js file=./codesnipets/sayHiToFob.js
```

```markdown
                1. Functions
                2. Side Effects
                3. Pure Functions
                4. Will it blend?
                5. Purity
                6. Not all Array Methods are created equal
                7. Currying ðŸ›
                8. Composition
                9. Partial Aplication
                10. Chaining
                11. The holy Trio
                12. Reduce all the things
                13. Transducing
```

```markdown title='Functional Programming'
  
  - The process of building software by composing pure functions, 
  avoiding shared state, mutable data, and side effects.

  - Lego mit Funktionen
```

```
Benefits:

 - Weniger Bugs 
 - Parallelism
 - Modularity
 - Testability
 - Lazy Evaluation

```

```md title='Was ist eine Funktion?' subtitle='Deftones - Back to School.mp3:'

  A Function is a process that maps the domain to the range... ok...
  
                      y = f(x * 2)
                      Function         

                      f(1) = 2           
                      f(2) = 4           
                      f(3) = 6
```

```js title='Functions in JS'

    A subprogram of type Function with properties and methods
    
    Functions sind "first class citizens" ðŸ§
```

```js title='Function in JS'
    Object of type Function with properties and methods

    Subprograms with params, bodies and return values  // obvious...
    
    Functions sind "first class citizens" ðŸ§ // Fun!
```

```js 1 file=./codesnipets/firstClassFunctions.js title='First Class Citizens?' subtitle='Assigned to Variables'
```

```js 3 file=./codesnipets/firstClassFunctions.js title='First Class Functions' subtitle='Used as arguments'
```

```js 5 file=./codesnipets/firstClassFunctions.js title='First Class Functions' subtitle='Stored in arrays'
```

```js 7 file=./codesnipets/firstClassFunctions.js title='First Class Functions' subtitle='Stored in objects'
```

```js title='Functions sind callable'   
  const hi = name => `Hi ${name}`

  const greet = name => hi(name)
```

```js title='Functions sind callable' subtitle="Same Thing"  
  const hi = name => `Hi ${name}`

  const greet = name => hi(name)           const greet = hi
```

```js title='Benefits of being Callable?'
const getServerStuff = callback => ajaxCall(json => callback(json));
```

```js title='Benefits of being Callable?' subtitle="Same Thing" 
const getServerStuff = callback =>         const getServerStuff = ajaxCall
  ajaxCall(json => callback(json))       
```

```js 5 title='What should numbers be?'
                    const numbers = [1, 2, 3]

                    double(numbers)

                    numbers // ?
```

```js 3 title='What should numbers be?' subtitle="Is double a function?"
                    const numbers = [1, 2, 3]

                    double(numbers)

                    numbers // ?
```

```markdown title='Pure Function'
  Given the same input, will always return the same output.
  Produces no side effects.
```
 
```markdown title='Side Effects'
  Any application state change that is observable outside the called function
  (other than its return value)
```

```js 9 title='The case for purity' subtitle="Was erwarten wir?" file=./codesnipets/caseForPurity2.js
```

```js 4 title='Impurity giveaway' subtitle='Funktionen deren return Value nicht benutzt wird'
  
                            var counter = 1

                            incrementCounter()

                            console.log(counter) // 2  
```

```md title='Dealing with Impurity âœž'
  
   - Using Immutable Data structures by:
     - Using Libraries: Immutable.js, ImmerJs, Ramda
     - Avoiding Certain Methods (splice, pop, push, shift, unshift, foreach, u.a) 
     - Using Pure Methods (slice, concat, filter, map, reduce u.a)
     - Freezing Objects, Copying, Spreading, 
     - Using Lenses (functional getters/setters)

   - Extracting Impurity

   - Containing Impurity
```

</CodeSurfer>

---

<CodeSurferColumns>

<Step title="Extract Impurity">

```js file=./codesnipets/daysThisMonthImpure.js
```

```js file=./codesnipets/daysThisMonthPure.js
```

</Step>

<Step title="Extract Impurity">

```js file=./codesnipets/addCommentImpure.js
```

```js
`
```

</Step>

<Step title="Extract Impurity">

```js file=./codesnipets/addCommentImpure.js
```

```js file=./codesnipets/addCommentPure.js
```

</Step>


</CodeSurferColumns>

---

<CodeSurferColumns sizes={[1,3,1]}>

<Step>

```js 3 file=./codesnipets/firstClassFunctions.js title='First Class Citizens' subtitle='Can be arguments to other functions'
```

</Step>

</CodeSurferColumns>

---

<CodeSurferColumns sizes={[1,3,1]}>

<Step>

```js title="Class"
```

<div>

I can write

- some
- markdown
- here

Or use a component...

</div>

```js title="Function"
```

</Step>

</CodeSurferColumns>

---

<CodeSurferColumns>

<Step title="Currying ðŸ›">

``` js 3 file=./codesnipets/curryESNext.js
```

```js 3 file=./codesnipets/curryES15.js
```

</Step>

<Step title="Currying ðŸ›">

``` js 4 file=./codesnipets/curryESNext.js
```

```js 4 file=./codesnipets/curryES15.js
```

</Step>


</CodeSurferColumns>  

---

<CodeSurferColumns> 


<Step title="Reduce"> 

```md
## The Swiss Knife!

arr.reduce(callback( accumulator, currentValue[, index[, array]] )[, initialValue])

```

</Step>

<Step title="Reduce"> 

```md
## The Swiss Knife!

arr.reduce(callback( accumulator, currentValue[, index[, array]] )[, initialValue])

Ez right? Nah, not so evident! examples

```

</Step>

<Step title="Reduce" subtitle="The Swiss Knife"> 

``` js 
  const initialValue = 10
  const sodexosUsed = [1,1,1,1]

  const sodexosLeft = sodexosUsed.reduce((accumulator, currentValue) => accumulator - currentValue, initialValue)
```

</Step>

<Step title="Reduce" subtitle="Extracted to a reducer"> 

``` js 
  const initialValue = 10
  const sodexosUsed = [1,1,1,1]
  const sodexosReducer = (accumulator, currentValue) => accumulator - currentValue

  const sodexosLeft = sodexosUsed.reduce(sodexosReducer, initialValue)

```

</Step>


<Step title="Reduce" subtitle="Extracted to a reducer"> 

``` js 
  const initialValue = 10
  const sodexosUsed = [1,1,1,1]
  const sodexosReducer = (accumulator, currentValue) => accumulator - currentValue

  const sodexosLeft = sodexosUsed.reduce(sodexosReducer, initialValue)

```

</Step>

<Step title="Reduce"> 

``` md
  But it looks crazy
  Whats the point?
```

</Step>

<Step title="Reduce"> 

``` md
  You can transform Data in a lot of ways!
  You can implement other functions such as map and filter, flatMap and others!
  Examples:
```

</Step>

<Step title="The Holy Trio"> 

``` js 
  reduce, filter, map
```

</Step>

</CodeSurferColumns>